import{c as Ya,f as Oe,u as Le,j as e,B as Fe,a as Xa,a5 as Za,aA as er,aB as sr,g as Xs,H as ar,F as rr,d as tr,aP as Ls,e as or,h as lr,b as nr,k as ir,M as qe,O as cr,x as dr,r as t,v as X,o as Fs,W as w,S as x,A as _,t as Z,T as P,G as n,m as i,aQ as qs,l as g,z as l,P as ie,V as ur,n as I,a0 as hr,U as ce,w as B,L as ts,aR as pr,ab as mr}from"./index-B9r5cl9W.js";import{g as $s,e as Vs,a as xr,d as gr}from"./casosApi-BKSmOZmE.js";import{I as Hs}from"./IconDatabase-DfjV116Y.js";import{I as os}from"./IconInfoCircle-CeWkeBUc.js";import{T as Ks,I as Ws}from"./IconPlus-Bn3VW0f2.js";import{S as H,a as o,T as U}from"./Table-D9CHl7vx.js";import{G as ls}from"./Grid-yhenIOJ3.js";import{T as de}from"./ThemeIcon-CWZr28Bc.js";import{B as Js}from"./Badge-0g_QzpBM.js";import{D as jr}from"./Divider-tgUTFFpg.js";import{I as fr}from"./IconDownload-CiLVSNyg.js";import{N as br}from"./NumberInput-BP-pjfXT.js";import{S as vr,I as ns}from"./IconEdit-OjoKMjxd.js";const[Cr,cs]=Ya("Tabs component was not found in the tree");var ve={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const yr={},ds=Oe((C,E)=>{const p=Le("TabsList",yr,C),{children:m,className:b,grow:k,justify:S,classNames:y,styles:D,style:A,mod:T,...N}=p,u=cs();return e.jsx(Fe,{...N,...u.getStyles("list",{className:b,style:A,classNames:y,styles:D,props:p,variant:u.variant}),ref:E,role:"tablist",variant:u.variant,mod:[{grow:k,orientation:u.orientation,placement:u.orientation==="vertical"&&u.placement,inverted:u.inverted},T],"aria-orientation":u.orientation,__vars:{"--tabs-justify":S},children:m})});ds.classes=ve;ds.displayName="@mantine/core/TabsList";const Sr={},us=Oe((C,E)=>{const p=Le("TabsPanel",Sr,C),{children:m,className:b,value:k,classNames:S,styles:y,style:D,mod:A,keepMounted:T,...N}=p,u=cs(),O=u.value===k,G=u.keepMounted||T||O?m:null;return e.jsx(Fe,{...N,...u.getStyles("panel",{className:b,classNames:S,styles:y,style:[D,O?void 0:{display:"none"}],props:p}),ref:E,mod:[{orientation:u.orientation},A],role:"tabpanel",id:u.getPanelId(k),"aria-labelledby":u.getTabId(k),children:G})});us.classes=ve;us.displayName="@mantine/core/TabsPanel";const Tr={},hs=Oe((C,E)=>{const p=Le("TabsTab",Tr,C),{className:m,children:b,rightSection:k,leftSection:S,value:y,onClick:D,onKeyDown:A,disabled:T,color:N,style:u,classNames:O,styles:G,vars:z,mod:K,tabIndex:ee,...L}=p,M=Xa(),{dir:W}=Za(),d=cs(),F=y===d.value,ue=se=>{d.onChange(d.allowTabDeactivation&&y===d.value?null:y),D==null||D(se)},R={classNames:O,styles:G,props:p};return e.jsxs(er,{...L,...d.getStyles("tab",{className:m,style:u,variant:d.variant,...R}),disabled:T,unstyled:d.unstyled,variant:d.variant,mod:[{active:F,disabled:T,orientation:d.orientation,inverted:d.inverted,placement:d.orientation==="vertical"&&d.placement},K],ref:E,role:"tab",id:d.getTabId(y),"aria-selected":F,tabIndex:ee!==void 0?ee:F||d.value===null?0:-1,"aria-controls":d.getPanelId(y),onClick:ue,__vars:{"--tabs-color":N?Xs(N,M):void 0},onKeyDown:sr({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:d.activateTabWithKeyboard,loop:d.loop,orientation:d.orientation||"horizontal",dir:W,onKeyDown:A}),children:[S&&e.jsx("span",{...d.getStyles("tabSection",R),"data-position":"left",children:S}),b&&e.jsx("span",{...d.getStyles("tabLabel",R),children:b}),k&&e.jsx("span",{...d.getStyles("tabSection",R),"data-position":"right",children:k})]})});hs.classes=ve;hs.displayName="@mantine/core/TabsTab";const Qs="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",wr={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},Er=or((C,{radius:E,color:p,autoContrast:m})=>({root:{"--tabs-radius":nr(E),"--tabs-color":Xs(p,C),"--tabs-text-color":ir(m,C)?lr({color:p,theme:C,autoContrast:m}):void 0}})),j=Oe((C,E)=>{const p=Le("Tabs",wr,C),{defaultValue:m,value:b,onChange:k,orientation:S,children:y,loop:D,id:A,activateTabWithKeyboard:T,allowTabDeactivation:N,variant:u,color:O,radius:G,inverted:z,placement:K,keepMounted:ee,classNames:L,styles:M,unstyled:W,className:d,style:F,vars:ue,autoContrast:R,mod:se,...Ce}=p,ae=ar(A),[ye,$e]=rr({value:b,defaultValue:m,finalValue:null,onChange:k}),J=tr({name:"Tabs",props:p,classes:ve,className:d,style:F,classNames:L,styles:M,unstyled:W,vars:ue,varsResolver:Er});return e.jsx(Cr,{value:{placement:K,value:ye,orientation:S,id:ae,loop:D,activateTabWithKeyboard:T,getTabId:Ls(`${ae}-tab`,Qs),getPanelId:Ls(`${ae}-panel`,Qs),onChange:$e,allowTabDeactivation:N,variant:u,color:O,radius:G,inverted:z,keepMounted:ee,unstyled:W,getStyles:J},children:e.jsx(Fe,{ref:E,id:ae,variant:u,mod:[{orientation:S,inverted:S==="horizontal"&&z,placement:S==="vertical"&&K},se],...J("root"),...Ce,children:y})})});j.classes=ve;j.displayName="@mantine/core/Tabs";j.Tab=hs;j.Panel=us;j.List=ds;/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var kr=qe("outline","device-floppy","IconDeviceFloppy",[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14 4l0 4l-6 0l0 -4",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ys=qe("outline","restore","IconRestore",[["path",{d:"M3.06 13a9 9 0 1 0 .49 -4.087",key:"svg-0"}],["path",{d:"M3 4.001v5h5",key:"svg-1"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var is=qe("outline","server","IconServer",[["path",{d:"M3 4m0 3a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v2a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3z",key:"svg-0"}],["path",{d:"M3 12m0 3a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v2a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3z",key:"svg-1"}],["path",{d:"M7 8l0 .01",key:"svg-2"}],["path",{d:"M7 16l0 .01",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ae=qe("outline","users","IconUsers",[["path",{d:"M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"svg-2"}],["path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85",key:"svg-3"}]]);function Lr(){const{user:C}=cr(),E=dr(),[p,m]=t.useState(!1),[b,k]=t.useState(null),[S,y]=t.useState([]),[D,A]=t.useState(null),T=t.useRef(null),[N,u]=t.useState(!1),[O,G]=t.useState(!1),[z,K]=t.useState(""),[ee,L]=t.useState(!1),[M,W]=t.useState(""),[d,F]=t.useState(!1),[ue,R]=t.useState(!1),[se,Ce]=t.useState(null),[ae,ye]=t.useState(""),[$e,J]=t.useState(!1),[he,ps]=t.useState(null),[Zs,ms]=t.useState(!1),[ea,Se]=t.useState(!1),[pe,xs]=t.useState(null),[sa,gs]=t.useState(!1),[re,aa]=t.useState([]),[Te,q]=t.useState(!1),[ra,we]=t.useState(!1),[ta,Ee]=t.useState(!1),[oa,ke]=t.useState(!1),[js,fs]=t.useState(null),[Ve,bs]=t.useState(""),[vs,Cs]=t.useState(""),[He,Ke]=t.useState(""),[ys,We]=t.useState(""),[me,Ss]=t.useState(null),[la,na]=t.useState([]),[Ne,$]=t.useState(!1),[ia,Ie]=t.useState(!1),[ca,De]=t.useState(!1),[Ts,ws]=t.useState(null),[xe,Es]=t.useState(null),[da,Ge]=t.useState(!1),[Je,ks]=t.useState(""),[te,Ns]=t.useState("user_consulta"),[ge,Is]=t.useState(null),[Re,Ds]=t.useState(""),[_e,Gs]=t.useState("user_consulta"),[ze,Rs]=t.useState(null),[je,Qe]=t.useState(""),[Ye,Xe]=t.useState([]),[ua,fe]=t.useState(!0),[ha,_s]=t.useState({}),[pa,Me]=t.useState(!1),[oe,zs]=t.useState(null),[le,Ms]=t.useState(null),[Ps,ma]=t.useState("JSP Madrid - Brigada Provincial de Policía Judicial"),[xa,Ze]=t.useState(!1),[Bs,ga]=t.useState({}),[es,ja]=t.useState(""),[ss,fa]=t.useState(null),[be,ba]=t.useState(null),Us=async()=>{fe(!0);try{const a=await $s()||[];Xe(a);const r=a.map(f=>Vs(f.ID_Caso).then(c=>({[f.ID_Caso]:c||[]}))),h=await Promise.all(r);_s(Object.assign({},...h))}catch{l.show({title:"Error",message:"No se pudieron cargar los casos o archivos.",color:"red"})}finally{fe(!1)}},Q=async()=>{var s,a;try{m(!0);const r=await g.get("/api/admin/database/status");k(r.data)}catch(r){l.show({title:"Error",message:((a=(s=r.response)==null?void 0:s.data)==null?void 0:a.detail)||"No se pudo obtener el estado de la base de datos",color:"red"})}finally{m(!1)}},V=async()=>{var s,a;try{const r=await g.get("/api/admin/database/backups");console.log("Raw backup data from API:",r.data.backups),y(r.data.backups)}catch(r){l.show({title:"Error",message:((a=(s=r.response)==null?void 0:s.data)==null?void 0:a.detail)||"No se pudieron obtener los backups",color:"red"})}},va=async()=>{var s,a;try{m(!0);const r=await g.post("/api/admin/database/backup");l.show({title:"Éxito",message:r.data.message||"Backup creado correctamente",color:"green"}),await Promise.all([Q(),V()])}catch(r){l.show({title:"Error",message:((a=(s=r.response)==null?void 0:s.data)==null?void 0:a.detail)||"No se pudo crear el backup",color:"red"})}finally{m(!1)}},Ca=async()=>{G(!0)},ya=async()=>{if(z==="RESETEAR"){G(!1),K("");try{m(!0);const s=await g.post("/api/admin/database/reset");l.show({title:"Éxito",message:"Base de datos reseteada correctamente",color:"green"}),await Promise.all([Q(),V()])}catch{l.show({title:"Error",message:"No se pudo resetear la base de datos",color:"red"})}finally{m(!1)}}},Sa=s=>{var r;const a=(r=s.target.files)==null?void 0:r[0];if(a){if(!a.name.endsWith(".db")){l.show({title:"Archivo inválido",message:"Solo se pueden restaurar archivos con extensión .db",color:"red"});return}Ce(a),ye(a.name),R(!0)}},Ta=async()=>{if(se){u(!0);try{const s=new FormData;s.append("backup_file",se);const a=await g.post("/api/admin/database/restore",s);l.show({title:"Éxito",message:"Base de datos restaurada correctamente",color:"green"}),await Promise.all([Q(),V()])}catch{l.show({title:"Error",message:"No se pudo restaurar la base de datos",color:"red"})}finally{u(!1),Ce(null),ye(""),R(!1),T.current&&(T.current.value="")}}},wa=()=>{L(!0)},Ea=async()=>{if(M==="ELIMINAR"){F(!0);try{const s=await g.post("/api/admin/database/clear_except_lectores");l.show({title:"Éxito",message:"Todos los datos (excepto lectores) fueron eliminados correctamente",color:"green"}),await Promise.all([Q(),V()]),L(!1),W("")}catch{l.show({title:"Error",message:"No se pudo eliminar los datos",color:"red"})}finally{F(!1)}}},ka=s=>{ps(s),J(!0)},Na=async()=>{var s,a;if(he){ms(!0);try{const r=await g.post("/api/admin/database/restore_from_filename",{filename:he.filename});l.show({title:"Éxito",message:r.data.message||"Base de datos restaurada correctamente desde el backup seleccionado.",color:"green"}),await Promise.all([Q(),V()]),J(!1),ps(null)}catch(r){l.show({title:"Error al Restaurar Backup",message:((a=(s=r.response)==null?void 0:s.data)==null?void 0:a.detail)||r.message||"No se pudo restaurar la base de datos",color:"red"})}finally{ms(!1)}}},Ia=s=>{xs(s),Se(!0)},Da=async()=>{var s,a;if(pe){gs(!0);try{await g.delete(`/api/admin/database/backups/${pe.filename}`),l.show({title:"Éxito",message:"Backup eliminado correctamente",color:"green"}),await V(),Se(!1),xs(null)}catch(r){l.show({title:"Error al Eliminar Backup",message:((a=(s=r.response)==null?void 0:s.data)==null?void 0:a.detail)||r.message||"No se pudo eliminar el backup",color:"red"})}finally{gs(!1)}}},Pe=async()=>{var s,a;q(!0);try{const r=await g.get("/api/grupos");aa(r.data)}catch(r){l.show({title:"Error",message:((a=(s=r.response)==null?void 0:s.data)==null?void 0:a.detail)||"No se pudieron obtener los grupos",color:"red"})}finally{q(!1)}},Ga=async()=>{var s,a;if(!Ve.trim()){l.show({title:"Error de Validación",message:"El nombre del grupo es obligatorio",color:"red"});return}try{q(!0);const r=await g.post("/api/grupos",{Nombre:Ve.trim(),Descripcion:vs.trim()||null});l.show({title:"Éxito",message:r.data.message||"Grupo creado correctamente",color:"green"}),we(!1),bs(""),Cs(""),await Pe()}catch(r){l.show({title:"Error al Crear Grupo",message:((a=(s=r.response)==null?void 0:s.data)==null?void 0:a.detail)||r.message||"No se pudo crear el grupo",color:"red"})}finally{q(!1)}},Ra=async()=>{var s,a;if(!js||!He.trim()){l.show({title:"Error de Validación",message:"El nombre del grupo es obligatorio",color:"red"});return}try{q(!0);const r=await g.put(`/api/grupos/${js.ID_Grupo}`,{Nombre:He.trim(),Descripcion:ys.trim()||null});l.show({title:"Éxito",message:r.data.message||"Grupo actualizado correctamente",color:"green"}),Ee(!1),fs(null),Ke(""),We(""),await Pe()}catch(r){l.show({title:"Error al Actualizar Grupo",message:((a=(s=r.response)==null?void 0:s.data)==null?void 0:a.detail)||r.message||"No se pudo actualizar el grupo",color:"red"})}finally{q(!1)}},_a=async()=>{var s,a;if(me)try{q(!0),await g.delete(`/api/grupos/${me.ID_Grupo}`),l.show({title:"Éxito",message:"Grupo eliminado correctamente",color:"green"}),ke(!1),Ss(null),await Pe()}catch(r){l.show({title:"Error al Eliminar Grupo",message:((a=(s=r.response)==null?void 0:s.data)==null?void 0:a.detail)||r.message||"No se pudo eliminar el grupo",color:"red"})}finally{q(!1)}},za=s=>{fs(s),Ke(s.Nombre),We(s.Descripcion||""),Ee(!0)},Ma=s=>{Ss(s),ke(!0)},Be=async()=>{var s,a;console.log("Fetching usuarios..."),$(!0);try{const r=await g.get("/api/usuarios");na(r.data)}catch(r){console.error("Error fetching usuarios:",r);const h=((a=(s=r.response)==null?void 0:s.data)==null?void 0:a.detail)||r.message||"No se pudieron obtener los usuarios";l.show({title:"Error al cargar Usuarios",message:h,color:"red"})}finally{$(!1)}},Pa=async()=>{var s,a;if(!Je.trim()||!Re.trim()||te!=="superadmin"&&!ge){l.show({title:"Error de Validación",message:"Usuario y Contraseña son obligatorios. Grupo es obligatorio si el rol no es superadmin.",color:"red"});return}if(Re.trim().length<6){l.show({title:"Error de Validación",message:"La contraseña debe tener al menos 6 caracteres.",color:"red"});return}try{$(!0);const r={User:String(Je).trim(),Rol:te,Contraseña:Re.trim()};te!=="superadmin"&&(r.ID_Grupo=ge);const h=await g.post("/api/usuarios",r);l.show({title:"Éxito",message:h.data.message||"Usuario creado correctamente",color:"green"}),Ie(!1),ks(""),Ns("user_consulta"),Is(null),Ds(""),Be()}catch(r){l.show({title:"Error al Crear Usuario",message:((a=(s=r.response)==null?void 0:s.data)==null?void 0:a.detail)||r.message||"No se pudo crear el usuario",color:"red"})}finally{$(!1)}},Ba=async()=>{var s,a;if(Ts){if(je&&je.length<6){l.show({title:"Error de Validación",message:"La nueva contraseña debe tener al menos 6 caracteres.",color:"red"});return}try{$(!0);const r={Rol:_e,ID_Grupo:_e==="superadmin"?null:ze};je.trim()&&(r.Contraseña=je.trim());const h=await g.put(`/api/usuarios/${Ts.User}`,r);l.show({title:"Éxito",message:h.data.message||"Usuario actualizado correctamente",color:"green"}),De(!1),ws(null),Qe(""),Be()}catch(r){l.show({title:"Error al Editar Usuario",message:((a=(s=r.response)==null?void 0:s.data)==null?void 0:a.detail)||r.message||"No se pudo editar el usuario",color:"red"})}finally{$(!1)}}},Ua=async()=>{var s,a;if(xe)try{$(!0),await g.delete(`/api/usuarios/${xe.User}`),l.show({title:"Éxito",message:"Usuario eliminado correctamente",color:"green"}),Ge(!1),Es(null),Be()}catch(r){l.show({title:"Error al Eliminar Usuario",message:((a=(s=r.response)==null?void 0:s.data)==null?void 0:a.detail)||r.message||"No se pudo eliminar el usuario",color:"red"})}finally{$(!1)}},Aa=async s=>{mr({title:"Confirmar Eliminación",centered:!0,children:e.jsx(I,{size:"sm",children:"¿Estás seguro de que quieres eliminar este caso y todos sus archivos/lecturas? Esta acción no se puede deshacer."}),labels:{confirm:"Eliminar Caso",cancel:"Cancelar"},confirmProps:{color:"red"},onConfirm:async()=>{try{fe(!0),await gr(s),l.show({title:"Caso Eliminado",message:"El caso ha sido eliminado correctamente.",color:"green"}),Us()}catch{l.show({title:"Error al eliminar",message:"No se pudo eliminar el caso.",color:"red"})}finally{}}})},Oa=s=>{zs(s),Ms(null),Me(!0)},La=async()=>{if(!(!oe||!le))try{await xr(oe.ID_Caso,{ID_Grupo:le}),Xe(s=>s.map(a=>a.ID_Caso===oe.ID_Caso?{...a,ID_Grupo:le}:a)),l.show({title:"Éxito",message:"Caso reasignado",color:"green"}),Me(!1),zs(null)}catch{l.show({title:"Error",message:"No se pudo reasignar el caso",color:"red"})}},Fa=async()=>{try{await pr(Ps),Ze(!1),l.show({title:"Éxito",message:"Texto del footer actualizado",color:"green"})}catch{l.show({title:"Error",message:"No se pudo actualizar el texto del footer",color:"red"})}},qa=async s=>{try{const a=await g.get(`/api/casos/${s}/size`);ga(r=>({...r,[s]:a.data.size_mb}))}catch(a){console.error(`Error al cargar el tamaño del caso ${s}:`,a)}};t.useEffect(()=>{Q(),V(),Pe(),Be()},[]),t.useEffect(()=>{C||E("/login")},[C,E]),t.useEffect(()=>{Us()},[]),t.useEffect(()=>{(async()=>{fe(!0);try{const[a,r]=await Promise.all([$s(),Promise.all(Ye.map(f=>Vs(f.ID_Caso)))]);Xe(a);const h={};r.forEach((f,c)=>{h[Ye[c].ID_Caso]=f}),_s(h),await Promise.all(a.map(f=>qa(f.ID_Caso)))}catch(a){console.error("Error al cargar datos:",a),l.show({title:"Error",message:"No se pudieron cargar los datos",color:"red"})}finally{fe(!1)}})()},[]);const As=s=>{if(s===0)return"0 Bytes";const a=1024,r=["Bytes","KB","MB","GB"],h=Math.floor(Math.log(s)/Math.log(a));return parseFloat((s/Math.pow(a,h)).toFixed(2))+" "+r[h]},Os=s=>new Date(s).toLocaleString(),$a=()=>e.jsxs(ls,{gutter:"xl",children:[e.jsx(ls.Col,{span:{base:12,md:6,lg:4},children:e.jsxs(ie,{p:"md",withBorder:!0,radius:"md",style:{height:"100%"},children:[e.jsxs(n,{justify:"space-between",mb:"md",children:[e.jsxs(n,{children:[e.jsx(de,{size:"lg",radius:"md",color:"blue",children:e.jsx(Hs,{size:20})}),e.jsx(X,{order:3,children:"Estado de la Base de Datos"})]}),e.jsx(i,{variant:"light",leftSection:e.jsx(ur,{size:16}),onClick:()=>Promise.all([Q(),V()]),loading:p,children:"Actualizar"})]}),b&&e.jsxs(x,{gap:"xs",children:[e.jsxs(n,{justify:"space-between",children:[e.jsx(I,{size:"sm",c:"dimmed",children:"Estado:"}),e.jsx(Js,{color:"green",variant:"light",children:b.status})]}),e.jsxs(n,{justify:"space-between",children:[e.jsx(I,{size:"sm",c:"dimmed",children:"Tamaño:"}),e.jsx(I,{size:"sm",children:As(b.size_bytes)})]}),e.jsxs(n,{justify:"space-between",children:[e.jsx(I,{size:"sm",c:"dimmed",children:"Último backup:"}),e.jsx(I,{size:"sm",children:b.last_backup?Os(b.last_backup):"Nunca"})]}),e.jsxs(n,{justify:"space-between",children:[e.jsx(I,{size:"sm",c:"dimmed",children:"Total backups:"}),e.jsx(I,{size:"sm",children:b.backups_count})]})]})]})}),e.jsx(ls.Col,{span:{base:12,md:6,lg:8},children:e.jsxs(ie,{p:"md",withBorder:!0,radius:"md",children:[e.jsx(n,{justify:"space-between",mb:"md",children:e.jsxs(n,{children:[e.jsx(de,{size:"lg",radius:"md",color:"blue",children:e.jsx(hr,{size:20})}),e.jsx(X,{order:3,children:"Gestión de Base de Datos"})]})}),e.jsxs(x,{gap:"md",children:[e.jsxs(n,{children:[e.jsx(i,{variant:"light",leftSection:e.jsx(kr,{size:16}),onClick:va,loading:p,children:"Crear Backup"}),e.jsx(i,{variant:"light",color:"red",leftSection:e.jsx(ce,{size:16}),onClick:Ca,loading:p,children:"Resetear Base de Datos"}),e.jsx(i,{variant:"light",color:"green",leftSection:e.jsx(Ys,{size:16}),loading:N,onClick:()=>{var s;return(s=T.current)==null?void 0:s.click()},children:"Restaurar desde archivo"}),e.jsx(i,{variant:"light",color:"orange",leftSection:e.jsx(ce,{size:16}),onClick:wa,loading:d,children:"Eliminar todo (excepto lectores)"}),e.jsx("input",{type:"file",accept:".db",ref:T,style:{display:"none"},onChange:Sa})]}),e.jsx(jr,{label:"Backups Disponibles",labelPosition:"center"}),e.jsxs(o,{striped:!0,highlightOnHover:!0,children:[e.jsx(o.Thead,{children:e.jsxs(o.Tr,{children:[e.jsx(o.Th,{children:"Nombre"}),e.jsx(o.Th,{children:"Fecha"}),e.jsx(o.Th,{children:"Tamaño"}),e.jsx(o.Th,{children:"Acciones"})]})}),e.jsx(o.Tbody,{children:S.map(s=>e.jsxs(o.Tr,{children:[e.jsx(o.Td,{children:s.filename}),e.jsx(o.Td,{children:Os(s.created_at)}),e.jsx(o.Td,{children:As(s.size_bytes)}),e.jsx(o.Td,{children:e.jsxs(n,{gap:"xs",children:[e.jsx(U,{label:"Restaurar",children:e.jsx(B,{color:"blue",variant:"light",onClick:()=>ka(s),children:e.jsx(Ys,{size:16})})}),e.jsx(U,{label:"Descargar",children:e.jsx(B,{color:"green",variant:"light",component:"a",href:`/api/admin/database/backups/${s.filename}/download`,download:!0,children:e.jsx(fr,{size:16})})}),e.jsx(U,{label:"Eliminar",children:e.jsx(B,{color:"red",variant:"light",onClick:()=>Ia(s),children:e.jsx(ce,{size:16})})})]})})]},s.filename))})]})]})]})})]}),Va=()=>e.jsxs(ie,{p:"md",withBorder:!0,radius:"md",children:[e.jsxs(n,{justify:"space-between",mb:"md",children:[e.jsxs(n,{children:[e.jsx(de,{size:"lg",radius:"md",color:"blue",children:e.jsx(Ae,{size:20})}),e.jsx(X,{order:3,children:"Gestión de Grupos"})]}),e.jsx(i,{variant:"light",leftSection:e.jsx(Ws,{size:16}),onClick:()=>we(!0),children:"Crear Grupo"})]}),Te?e.jsx(ts,{}):e.jsxs(o,{striped:!0,highlightOnHover:!0,children:[e.jsx(o.Thead,{children:e.jsxs(o.Tr,{children:[e.jsx(o.Th,{children:"Nombre"}),e.jsx(o.Th,{children:"Descripción"}),e.jsx(o.Th,{children:"Acciones"})]})}),e.jsx(o.Tbody,{children:re.map(s=>e.jsxs(o.Tr,{children:[e.jsx(o.Td,{children:s.Nombre}),e.jsx(o.Td,{children:s.Descripcion||"-"}),e.jsx(o.Td,{children:e.jsxs(n,{gap:"xs",children:[e.jsx(U,{label:"Editar",children:e.jsx(B,{color:"blue",variant:"light",onClick:()=>za(s),children:e.jsx(ns,{size:16})})}),e.jsx(U,{label:"Eliminar",children:e.jsx(B,{color:"red",variant:"light",onClick:()=>Ma(s),children:e.jsx(ce,{size:16})})})]})})]},s.ID_Grupo))})]})]}),Ha=()=>{const s=la.filter(a=>{const r=!es||String(a.User).includes(es),h=!ss||a.Rol===ss,f=!be||a.ID_Grupo===be;return r&&h&&f});return e.jsxs(ie,{p:"md",withBorder:!0,radius:"md",children:[e.jsxs(n,{justify:"space-between",mb:"md",children:[e.jsxs(n,{children:[e.jsx(de,{size:"lg",radius:"md",color:"blue",children:e.jsx(Ae,{size:20})}),e.jsx(X,{order:3,children:"Gestión de Usuarios"})]}),e.jsx(i,{variant:"light",leftSection:e.jsx(Ws,{size:16}),onClick:()=>Ie(!0),children:"Crear Usuario"})]}),e.jsx(x,{gap:"md",mb:"md",children:e.jsxs(n,{children:[e.jsx(P,{placeholder:"Filtrar por carné...",value:es,onChange:a=>ja(a.currentTarget.value.replace(/\D/g,"")),style:{width:"200px"}}),e.jsx(H,{placeholder:"Filtrar por rol...",value:ss,onChange:fa,clearable:!0,data:[{value:"superadmin",label:"Superadmin"},{value:"admingrupo",label:"Admin Grupo"},{value:"user_consulta",label:"Usuario Consulta"}],style:{width:"200px"}}),e.jsx(H,{placeholder:"Filtrar por grupo...",value:(be==null?void 0:be.toString())||"",onChange:a=>ba(a?Number(a):null),clearable:!0,data:re.map(a=>({value:a.ID_Grupo.toString(),label:a.Nombre})),style:{width:"200px"}})]})}),Ne?e.jsx(ts,{}):s.length===0?e.jsx(I,{color:"dimmed",ta:"center",py:"md",children:"No hay usuarios que coincidan con los filtros."}):e.jsxs(o,{striped:!0,highlightOnHover:!0,children:[e.jsx(o.Thead,{children:e.jsxs(o.Tr,{children:[e.jsx(o.Th,{children:"Usuario"}),e.jsx(o.Th,{children:"Rol"}),e.jsx(o.Th,{children:"Grupo"}),e.jsx(o.Th,{children:"Acciones"})]})}),e.jsx(o.Tbody,{children:s.map(a=>{var r;return e.jsxs(o.Tr,{children:[e.jsx(o.Td,{children:a.User}),e.jsx(o.Td,{children:e.jsx(Js,{color:a.Rol==="superadmin"?"red":a.Rol==="admingrupo"?"blue":"green",variant:"light",children:a.Rol})}),e.jsx(o.Td,{children:((r=a.grupo)==null?void 0:r.Nombre)||a.ID_Grupo||"-"}),e.jsx(o.Td,{children:e.jsxs(n,{gap:"xs",children:[e.jsx(U,{label:"Editar",children:e.jsx(B,{color:"blue",variant:"light",onClick:()=>{ws(a),Gs(a.Rol),Rs(a.ID_Grupo),Qe(""),De(!0)},children:e.jsx(ns,{size:16})})}),e.jsx(U,{label:"Eliminar",children:e.jsx(B,{color:"red",variant:"light",onClick:()=>{Es(a),Ge(!0)},children:e.jsx(ce,{size:16})})})]})})]},a.User)})})]})]})},Ka=()=>{const[s,a]=t.useState(""),[r,h]=t.useState(null),f=Ye.filter(c=>{const Y=c.Nombre_del_Caso.toLowerCase().includes(s.toLowerCase()),ne=!r||c.ID_Grupo===r;return Y&&ne});return e.jsxs(ie,{p:"md",withBorder:!0,radius:"md",children:[e.jsx(n,{justify:"space-between",mb:"md",children:e.jsxs(n,{children:[e.jsx(de,{size:"lg",radius:"md",color:"blue",children:e.jsx(Fs,{size:20})}),e.jsx(X,{order:3,children:"Gestión de Casos"})]})}),e.jsx(x,{gap:"md",mb:"md",children:e.jsxs(n,{children:[e.jsx(P,{placeholder:"Filtrar por nombre...",value:s,onChange:c=>a(c.currentTarget.value),style:{width:"300px"}}),e.jsx(H,{placeholder:"Filtrar por grupo...",value:(r==null?void 0:r.toString())||"",onChange:c=>h(c?Number(c):null),clearable:!0,data:re.map(c=>({value:c.ID_Grupo.toString(),label:c.Nombre})),style:{width:"300px"}})]})}),ua?e.jsx(ts,{}):f.length===0?e.jsx(I,{color:"dimmed",ta:"center",py:"md",children:"No hay casos que coincidan con los filtros."}):e.jsxs(o,{striped:!0,highlightOnHover:!0,children:[e.jsx(o.Thead,{children:e.jsxs(o.Tr,{children:[e.jsx(o.Th,{children:"Nombre"}),e.jsx(o.Th,{children:"Grupo"}),e.jsx(o.Th,{children:"Archivos"}),e.jsx(o.Th,{children:"Lecturas"}),e.jsx(o.Th,{children:"Peso (MB)"}),e.jsx(o.Th,{children:"Acciones"})]})}),e.jsx(o.Tbody,{children:f.map(c=>{var Ue;const Y=ha[c.ID_Caso]||[],ne=Y.length,as=Y.reduce((Ja,Qa)=>Ja+(Qa.Total_Registros||0),0),rs=Bs[c.ID_Caso]?`${Bs[c.ID_Caso]} MB`:"-";let v="-";return"grupo"in c&&((Ue=c.grupo)!=null&&Ue.Nombre)?v=c.grupo.Nombre:"ID_Grupo"in c&&(v=c.ID_Grupo),e.jsxs(o.Tr,{children:[e.jsx(o.Td,{children:c.Nombre_del_Caso}),e.jsx(o.Td,{children:v}),e.jsx(o.Td,{children:ne}),e.jsx(o.Td,{children:as}),e.jsx(o.Td,{children:rs}),e.jsx(o.Td,{children:e.jsxs(n,{gap:"xs",children:[e.jsx(U,{label:"Reasignar Grupo",children:e.jsx(B,{color:"blue",variant:"light",onClick:()=>Oa(c),children:e.jsx(ns,{size:16})})}),e.jsx(U,{label:"Eliminar",children:e.jsx(B,{color:"red",variant:"light",onClick:()=>Aa(c.ID_Caso),children:e.jsx(ce,{size:16})})})]})})]},c.ID_Caso)})})]})]})},Wa=()=>{const[s,a]=t.useState({host:"localhost",port:8e3,is_remote:!1}),[r,h]=t.useState(!0),[f,c]=t.useState(null),[Y,ne]=t.useState(null);t.useEffect(()=>{as()},[]);const as=async()=>{try{const v=await fetch("/api/system/host-config");if(!v.ok)throw new Error("Error al obtener la configuración");const Ue=await v.json();a(Ue),h(!1)}catch{c("Error al cargar la configuración del sistema"),h(!1)}},rs=async()=>{try{if(h(!0),!(await fetch("/api/system/host-config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok)throw new Error("Error al guardar la configuración");ne("Configuración guardada correctamente"),setTimeout(()=>ne(null),3e3)}catch{c("Error al guardar la configuración")}finally{h(!1)}};return e.jsxs(ie,{p:"md",withBorder:!0,radius:"md",children:[e.jsx(n,{justify:"space-between",mb:"md",children:e.jsxs(n,{children:[e.jsx(de,{size:"lg",radius:"md",color:"blue",children:e.jsx(is,{size:20})}),e.jsx(X,{order:3,children:"Configuración del Sistema"})]})}),f&&e.jsx(_,{icon:e.jsx(Z,{size:16}),color:"red",mb:"md",children:f}),Y&&e.jsx(_,{icon:e.jsx(Z,{size:16}),color:"green",mb:"md",children:Y}),e.jsxs(x,{gap:"md",children:[e.jsx(P,{label:"Host",placeholder:"localhost o 0.0.0.0",value:s.host,onChange:v=>a({...s,host:v.currentTarget.value}),disabled:r}),e.jsx(br,{label:"Puerto",placeholder:"8000",value:s.port,onChange:v=>a({...s,port:v||8e3}),min:1024,max:65535,disabled:r}),e.jsx(vr,{label:"Acceso Remoto",checked:s.is_remote,onChange:v=>a({...s,is_remote:v.currentTarget.checked}),disabled:r}),e.jsx(I,{size:"sm",c:"dimmed",children:s.is_remote?"La aplicación será accesible desde otros dispositivos en la red local":"La aplicación solo será accesible desde este dispositivo"}),e.jsx(i,{onClick:rs,loading:r,leftSection:e.jsx(is,{size:16}),children:"Guardar Configuración"})]})]})};return e.jsxs(Fe,{style:{paddingLeft:32,paddingRight:32,paddingBottom:32},children:[e.jsx(X,{order:2,mb:"xl",children:"Panel de Administración"}),e.jsxs(j,{defaultValue:"database",children:[e.jsxs(j.List,{children:[e.jsx(j.Tab,{value:"database",leftSection:e.jsx(Hs,{size:16}),children:"Base de Datos"}),e.jsx(j.Tab,{value:"system",leftSection:e.jsx(is,{size:16}),children:"Sistema"}),e.jsx(j.Tab,{value:"groups",leftSection:e.jsx(Ae,{size:16}),children:"Grupos"}),e.jsx(j.Tab,{value:"users",leftSection:e.jsx(Ae,{size:16}),children:"Usuarios"}),e.jsx(j.Tab,{value:"cases",leftSection:e.jsx(Fs,{size:16}),children:"Casos"})]}),e.jsx(j.Panel,{value:"database",pt:"xl",children:e.jsx($a,{})}),e.jsx(j.Panel,{value:"system",pt:"xl",children:e.jsx(Wa,{})}),e.jsx(j.Panel,{value:"groups",pt:"xl",children:e.jsx(Va,{})}),e.jsx(j.Panel,{value:"users",pt:"xl",children:e.jsx(Ha,{})}),e.jsx(j.Panel,{value:"cases",pt:"xl",children:e.jsx(Ka,{})})]}),e.jsx(w,{opened:O,onClose:()=>G(!1),title:"Confirmar Reseteo",centered:!0,radius:"md",children:e.jsxs(x,{children:[e.jsxs(_,{color:"red",title:"¡ATENCIÓN!",icon:e.jsx(Z,{size:16}),children:["Esta acción eliminará ",e.jsx("b",{children:"TODOS"})," los datos de la base de datos y ",e.jsx("span",{style:{color:"#d97706"},children:"no se puede deshacer"}),"."]}),e.jsx(P,{label:"Escribe RESETEAR para confirmar",value:z,onChange:s=>K(s.currentTarget.value),error:z&&z!=="RESETEAR"?"Debes escribir RESETEAR exactamente":void 0}),e.jsxs(n,{justify:"flex-end",mt:"md",children:[e.jsx(i,{variant:"light",onClick:()=>G(!1),children:"Cancelar"}),e.jsx(i,{color:"red",disabled:z!=="RESETEAR",onClick:ya,loading:p,children:"Resetear Base de Datos"})]})]})}),e.jsx(w,{opened:ee,onClose:()=>L(!1),title:"Confirmar Eliminación",centered:!0,radius:"md",children:e.jsxs(x,{children:[e.jsxs(_,{color:"orange",title:"¡ATENCIÓN!",icon:e.jsx(Z,{size:16}),children:["Esta acción eliminará todos los datos excepto los lectores. Esta acción ",e.jsx("span",{style:{color:"#d97706"},children:"no se puede deshacer"}),"."]}),e.jsx(P,{label:"Escribe ELIMINAR para confirmar",value:M,onChange:s=>W(s.currentTarget.value),error:M&&M!=="ELIMINAR"?"Debes escribir ELIMINAR exactamente":void 0}),e.jsxs(n,{justify:"flex-end",mt:"md",children:[e.jsx(i,{variant:"light",onClick:()=>L(!1),children:"Cancelar"}),e.jsx(i,{color:"orange",disabled:M!=="ELIMINAR",onClick:Ea,loading:d,children:"Eliminar Datos"})]})]})}),e.jsx(w,{opened:ue,onClose:()=>R(!1),title:"Restaurar desde Archivo",centered:!0,radius:"md",children:e.jsxs(x,{children:[e.jsxs(_,{color:"blue",title:"Información",icon:e.jsx(os,{size:16}),children:["Se restaurará la base de datos desde el archivo: ",e.jsx("b",{children:ae})]}),e.jsxs(n,{justify:"flex-end",mt:"md",children:[e.jsx(i,{variant:"light",onClick:()=>R(!1),children:"Cancelar"}),e.jsx(i,{color:"blue",onClick:Ta,loading:N,children:"Restaurar"})]})]})}),e.jsx(w,{opened:$e,onClose:()=>J(!1),title:"Restaurar Backup",centered:!0,radius:"md",children:e.jsxs(x,{children:[e.jsxs(_,{color:"blue",title:"Información",icon:e.jsx(os,{size:16}),children:["Se restaurará la base de datos desde el backup: ",e.jsx("b",{children:he==null?void 0:he.filename})]}),e.jsxs(n,{justify:"flex-end",mt:"md",children:[e.jsx(i,{variant:"light",onClick:()=>J(!1),children:"Cancelar"}),e.jsx(i,{color:"blue",onClick:Na,loading:Zs,children:"Restaurar"})]})]})}),e.jsx(w,{opened:ea,onClose:()=>Se(!1),title:"Eliminar Backup",centered:!0,radius:"md",children:e.jsxs(x,{children:[e.jsxs(_,{color:"red",title:"¡ATENCIÓN!",icon:e.jsx(Z,{size:16}),children:["Se eliminará el backup: ",e.jsx("b",{children:pe==null?void 0:pe.filename})]}),e.jsxs(n,{justify:"flex-end",mt:"md",children:[e.jsx(i,{variant:"light",onClick:()=>Se(!1),children:"Cancelar"}),e.jsx(i,{color:"red",onClick:Da,loading:sa,children:"Eliminar"})]})]})}),e.jsx(w,{opened:ra,onClose:()=>we(!1),title:"Crear Grupo",centered:!0,radius:"md",children:e.jsxs(x,{children:[e.jsx(P,{label:"Nombre del Grupo",placeholder:"Ingrese el nombre del grupo",value:Ve,onChange:s=>bs(s.currentTarget.value),required:!0}),e.jsx(Ks,{label:"Descripción",placeholder:"Ingrese una descripción (opcional)",value:vs,onChange:s=>Cs(s.currentTarget.value)}),e.jsxs(n,{justify:"flex-end",mt:"md",children:[e.jsx(i,{variant:"light",onClick:()=>we(!1),children:"Cancelar"}),e.jsx(i,{onClick:Ga,loading:Te,children:"Crear Grupo"})]})]})}),e.jsx(w,{opened:ta,onClose:()=>Ee(!1),title:"Editar Grupo",centered:!0,radius:"md",children:e.jsxs(x,{children:[e.jsx(P,{label:"Nombre del Grupo",placeholder:"Ingrese el nombre del grupo",value:He,onChange:s=>Ke(s.currentTarget.value),required:!0}),e.jsx(Ks,{label:"Descripción",placeholder:"Ingrese una descripción (opcional)",value:ys,onChange:s=>We(s.currentTarget.value)}),e.jsxs(n,{justify:"flex-end",mt:"md",children:[e.jsx(i,{variant:"light",onClick:()=>Ee(!1),children:"Cancelar"}),e.jsx(i,{onClick:Ra,loading:Te,children:"Guardar Cambios"})]})]})}),e.jsx(w,{opened:oa,onClose:()=>ke(!1),title:"Eliminar Grupo",centered:!0,radius:"md",children:e.jsxs(x,{children:[e.jsxs(_,{color:"red",title:"¡ATENCIÓN!",icon:e.jsx(Z,{size:16}),children:["¿Estás seguro de que quieres eliminar el grupo ",e.jsx("b",{children:me==null?void 0:me.Nombre}),"?",e.jsx("br",{}),"Esta acción ",e.jsx("span",{style:{color:"#d97706"},children:"no se puede deshacer"}),"."]}),e.jsxs(n,{justify:"flex-end",mt:"md",children:[e.jsx(i,{variant:"light",onClick:()=>ke(!1),children:"Cancelar"}),e.jsx(i,{color:"red",onClick:_a,loading:Te,children:"Eliminar Grupo"})]})]})}),e.jsx(w,{opened:ia,onClose:()=>Ie(!1),title:"Crear Usuario",centered:!0,radius:"md",children:e.jsxs(x,{children:[e.jsx(P,{label:"Carné Profesional (User)",value:Je,onChange:s=>ks(s.currentTarget.value.replace(/\D/g,"")),maxLength:6,required:!0}),e.jsx(H,{label:"Rol",placeholder:"Seleccione un rol",required:!0,value:te,onChange:s=>Ns(s),data:[{value:"superadmin",label:"Superadmin"},{value:"admingrupo",label:"Admin Grupo"},{value:"user_consulta",label:"Usuario Consulta"}],error:!te&&"El rol es obligatorio"}),te!=="superadmin"&&e.jsx(H,{label:"Grupo",value:(ge==null?void 0:ge.toString())||"",onChange:s=>Is(Number(s)),data:re.map(s=>({value:s.ID_Grupo.toString(),label:s.Nombre})),required:!0,searchable:!0}),e.jsx(qs,{label:"Contraseña",value:Re,onChange:s=>Ds(s.currentTarget.value),required:!0}),e.jsxs(n,{justify:"flex-end",mt:"md",children:[e.jsx(i,{variant:"light",onClick:()=>Ie(!1),children:"Cancelar"}),e.jsx(i,{onClick:Pa,loading:Ne,children:"Crear Usuario"})]})]})}),e.jsx(w,{opened:ca,onClose:()=>De(!1),title:"Editar Usuario",centered:!0,radius:"md",children:e.jsxs(x,{children:[e.jsx(H,{label:"Rol",placeholder:"Seleccione un rol",required:!0,value:_e,onChange:s=>Gs(s),data:[{value:"superadmin",label:"Superadmin"},{value:"admingrupo",label:"Admin Grupo"},{value:"user_consulta",label:"Usuario Consulta"}]}),_e!=="superadmin"&&e.jsx(H,{label:"Grupo",value:(ze==null?void 0:ze.toString())||"",onChange:s=>Rs(Number(s)),data:re.map(s=>({value:s.ID_Grupo.toString(),label:s.Nombre})),required:!0,searchable:!0}),e.jsx(qs,{label:"Contraseña",value:je,onChange:s=>Qe(s.currentTarget.value),placeholder:"Dejar en blanco para mantener la actual"}),e.jsxs(n,{justify:"flex-end",mt:"md",children:[e.jsx(i,{variant:"light",onClick:()=>De(!1),children:"Cancelar"}),e.jsx(i,{onClick:Ba,loading:Ne,children:"Guardar Cambios"})]})]})}),e.jsx(w,{opened:da,onClose:()=>Ge(!1),title:"Eliminar Usuario",centered:!0,radius:"md",children:e.jsxs(x,{children:[e.jsxs(_,{color:"red",title:"¡ATENCIÓN!",icon:e.jsx(Z,{size:16}),children:["¿Estás seguro de que quieres eliminar el usuario ",e.jsx("b",{children:xe==null?void 0:xe.User}),"?",e.jsx("br",{}),"Esta acción ",e.jsx("span",{style:{color:"#d97706"},children:"no se puede deshacer"}),"."]}),e.jsxs(n,{justify:"flex-end",mt:"md",children:[e.jsx(i,{variant:"light",onClick:()=>Ge(!1),children:"Cancelar"}),e.jsx(i,{color:"red",onClick:Ua,loading:Ne,children:"Eliminar Usuario"})]})]})}),e.jsx(w,{opened:pa,onClose:()=>Me(!1),title:"Reasignar Grupo",centered:!0,radius:"md",children:e.jsxs(x,{children:[e.jsxs(_,{color:"blue",title:"Información",icon:e.jsx(os,{size:16}),children:["Reasignar el caso ",e.jsx("b",{children:oe==null?void 0:oe.Nombre_del_Caso})," a otro grupo"]}),e.jsx(H,{label:"Nuevo Grupo",placeholder:"Seleccione un grupo",value:(le==null?void 0:le.toString())||"",onChange:s=>Ms(Number(s)),data:re.map(s=>({value:s.ID_Grupo.toString(),label:s.Nombre})),required:!0,searchable:!0}),e.jsxs(n,{justify:"flex-end",mt:"md",children:[e.jsx(i,{variant:"light",onClick:()=>Me(!1),children:"Cancelar"}),e.jsx(i,{onClick:La,children:"Reasignar"})]})]})}),e.jsx(w,{opened:xa,onClose:()=>Ze(!1),title:"Configurar Pie de Página",centered:!0,radius:"md",children:e.jsxs(x,{children:[e.jsx(P,{label:"Texto del Pie de Página",value:Ps,onChange:s=>ma(s.currentTarget.value),required:!0}),e.jsxs(n,{justify:"flex-end",mt:"md",children:[e.jsx(i,{variant:"light",onClick:()=>Ze(!1),children:"Cancelar"}),e.jsx(i,{onClick:Fa,children:"Guardar"})]})]})})]})}export{Lr as default};
